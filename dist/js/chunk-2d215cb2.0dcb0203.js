(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d215cb2"],{c05d:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",[e("div",{staticClass:"item secondary"},[e("v-card-title",[e("v-icon",{staticClass:"mr-2",attrs:{color:"primary",large:""}},[t._v("mdi-clipboard-text-multiple-outline")]),t._v(" 还款管理 "),e("v-spacer"),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),e("v-data-table",{attrs:{headers:t.headers,items:t.data,search:t.search},scopedSlots:t._u([{key:"item.created_at",fn:function(a){var e=a.item;return[t._v(" "+t._s(t.formatDate(e.created_at))+" ")]}},{key:"item.amount",fn:function(a){var e=a.item;return[t._v(" "+t._s(t.formatMoney(e.amount))+" ")]}},{key:"item.status",fn:function(a){var i=a.item;return[e("p",{style:{color:"#"+t.stateDetail(i.status).color}},[t._v(" "+t._s(t.stateDetail(i.status).status)+" ")])]}},{key:"item.actions",fn:function(a){var i=a.item;return[e("v-btn",{staticClass:"info",attrs:{small:""},on:{click:function(a){return t.detailBill(i)}}},[t._v(" 付款详情 ")])]}}],null,!0)})],1),e("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",[t._v("付款详情")]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(a){t.dialog=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1),e("v-divider"),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("时间")]),e("th",{staticClass:"text-center"},[t._v("金钱数额")])])]),e("tbody",t._l(t.pay_list,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[t._v(" "+t._s(t.addMonth(t.detail.start_date,i))+" ")]),e("td",{staticClass:"text-center"},[t._v(t._s(t.formatMoney(a))+" VND")])])})),0)]},proxy:!0}])})],1)],1)],1)},n=[],r=(e("4de4"),e("b680"),e("fb6a"),e("ac1f"),e("5319"),e("d3b7"),e("25f0"),e("1276"),e("a9e3"),{data:function(){return{search:"",dialog:!1,headers:[{text:"ID",value:"id"},{text:"客户",value:"phone"},{text:"借款总额",value:"amount"},{text:"总期数",value:"duration"},{text:"生成日期",value:"start_date"},{text:"操作",value:"actions",sortable:!1}],data:[],edit_id:"",type_edit:1,amount:"",state_list:"",pay_list:[],interest_rate:.7,detail:[]}},mounted:function(){this.getData()},methods:{stateDetail:function(t){var a=this.state_list.filter((function(a){return a.id==t}));return a[0]},getData:function(){var t=this;this.CallAPI("get","bill",{},(function(a){t.data=a.data})),this.CallAPI("get","state",{},(function(a){t.state_list=a.data}))},detailBill:function(t){this.detail=t,this.dialog=!0,this.pay_list=[];for(var a=0;a<t.duration;a++){var e=t.amount/t.duration,i=e+(t.amount-a*e)*this.interest_rate/100;this.pay_list.push(i.toFixed(0))}},formatDate:function(t){return t.slice(0,10)},formatMoney:function(t){return t?String(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},addMonth:function(t,a){var e=t.split("/")[0],i=Number(t.split("/")[1]);return i+=a,i>12&&(i%12==0?i=12:i%=12),e+"/"+this.formatMonth(i)},formatMonth:function(t){return t>9?""+t:"0"+t}}}),s=r,l=e("2877"),o=e("6544"),c=e.n(o),d=e("8336"),u=e("b0af"),f=e("99d9"),v=e("8fea"),m=e("169a"),_=e("ce7e"),h=e("132d"),p=e("1f4f"),b=e("2fa4"),x=e("8654"),y=Object(l["a"])(s,i,n,!1,null,null,null);a["default"]=y.exports;c()(y,{VBtn:d["a"],VCard:u["a"],VCardTitle:f["c"],VDataTable:v["a"],VDialog:m["a"],VDivider:_["a"],VIcon:h["a"],VSimpleTable:p["a"],VSpacer:b["a"],VTextField:x["a"]})}}]);